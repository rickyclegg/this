/*! this 2013-03-14 */
(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n,r=this.length;for(n=e||0;r>n;n+=1)if(this[n]===t)return n;return-1})})(),function(){Function.prototype.extend=function(t){return"function"==typeof t.constructor?(this.prototype=new t,this.prototype.constructor=this):(this.prototype=t,this.prototype.constructor=this),this},Function.prototype.bind||function(){var t=Array.prototype.slice;Function.prototype.bind=function(e){var n,r=this;return arguments.length>1?(n=t.call(arguments,1),function(){var o=n;return arguments.length>0&&(o=n.concat(t.call(arguments))),r.apply(e,o)}):function(){return arguments.length>0?r.apply(e,arguments):r.call(e)}}}(),Function.prototype.memoize=function(){var t={},e=this,n=Array.prototype.join;return function(){var r=n.call(arguments);return t[r]||(t[r]=e.apply(this,arguments)),t[r]}}}();var EventDispatcher=function(){function t(){this._eventObjects=[]}function e(t,e){return t===e}function n(e,n){var r=e&&n,o="string"==typeof e,i="function"==typeof n;if(!i)throw new TypeError(t.TYPE_ERROR);return r&&o&&i}function r(t,n,r){var o,i=t.length;for(o=0;i>o;o+=1)if(e(t[o].type,n)&&e(t[o].callback,r))return t[o];return null}function o(t,n){var r,o=t.length;for(r=0;o>r;r+=1)if(e(t[r].type,n))return!!t[r];return!1}return t.TYPE_ERROR="The listener specified is not a function.",t.prototype.addEventListener=function(t,e,o){return!n(t,e)||r(this._eventObjects,t,e)?!1:(this._eventObjects.push({type:t,callback:e,listenerScope:o}),!0)},t.prototype.dispatchEvent=function(t){var n,r=this._eventObjects.length,o=!1;for(n=0;r>n;n+=1)e(this._eventObjects[n].type,t.type)&&(t.target=this,this._eventObjects[n].callback.apply(this._eventObjects[n].listenerScope,[t]),o=!0);return o},t.prototype.hasEventListener=function(t){return o(this._eventObjects,t)},t.prototype.removeEventListener=function(t,e){var o;this.hasEventListener(t)&&n(t,e)&&(o=r(this._eventObjects,t,e),this._eventObjects.splice(this._eventObjects.indexOf(o),1))},t}();